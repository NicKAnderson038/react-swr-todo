{"version":3,"sources":["constant.js","components/Home.js","components/AddComment.js","components/User.js","App.js","reportWebVitals.js","index.js"],"names":["API","baseRoute","StyledTableCell","withStyles","theme","head","backgroundColor","color","palette","common","white","body","fontSize","TableCell","StyledTableRow","root","action","hover","TableRow","useStyles","makeStyles","link","textDecoration","text","fontFamily","fontWeight","Home","commentsFromServer","data","useSWR","initialData","classes","my_data","comments","Box","marginTop","TableContainer","component","Paper","Table","aria-label","TableHead","className","align","TableBody","map","row","to","isUndefined","id","scope","CircularProgress","size","comment","Button","variant","startIcon","onClick","a","alert","v4","getInitialProps","ctx","axios","res","json","AddComment","length","initialValues","onSubmit","values","formikHelpers","loremIpsum","count","format","paragraphLowerBound","paragraphUpperBound","random","Math","sentenceLowerBound","sentenceUpperBound","suffix","units","resetForm","FormGroup","autoComplete","as","TextField","name","label","type","justifyContent","display","card","minWidth","maxWidth","large","width","height","loader","User","filter","d","pop","Fab","style","Card","CardContent","Avatar","src","Typography","gutterBottom","defaults","baseURL","createMuiTheme","primary","main","error","red","A400","background","default","App","ThemeProvider","CssBaseline","value","fetcher","url","then","r","Container","path","params","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.942fb909.chunk.js","sourcesContent":["export const API =\n  process.env.NODE_ENV === 'development' ? '/comments' : '/db.json'\n\nexport const baseRoute =\n  process.env.NODE_ENV === 'development' ? '/' : '/react-swr-todo/'\n\nexport const AXIOS_BASE_URL =\n  process.env.NODE_ENV === 'development'\n    ? 'http://localhost:4001'\n    : 'https://raw.githubusercontent.com/NicKAnderson038/react-swr-todo/gh-pages'\n\nexport const IS_LOCAL_JSON = process.env.NODE_ENV === 'development'\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  withStyles,\n} from '@material-ui/core'\nimport { Link } from 'wouter'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { isUndefined } from 'lodash'\nimport axios from 'axios'\nimport React from 'react'\nimport { v4 } from 'uuid'\nimport useSWR from 'swr'\nimport { API, baseRoute, IS_LOCAL_JSON } from '../constant'\nimport { deleteRequest } from '../service'\n\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: '#555454',\n    color: theme.palette.common.white,\n  },\n  body: {\n    fontSize: 14,\n  },\n}))(TableCell)\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover,\n    },\n    '&:hover, &:focus': {\n      backgroundColor: '#5b67f37d',\n    },\n  },\n}))(TableRow)\n\n// text-decoration: none;\nconst useStyles = makeStyles({\n  link: {\n    textDecoration: 'none',\n  },\n  text: {\n    fontFamily: 'bungee',\n    fontWeight: 300,\n  },\n})\n\nconst Home = ({ commentsFromServer }) => {\n  const { data } = useSWR(API, { initialData: commentsFromServer })\n  const classes = useStyles()\n\n  const my_data = IS_LOCAL_JSON ? data : data?.comments\n\n  return (\n    <Box marginTop={2}>\n      <TableContainer component={Paper}>\n        <Table aria-label=\"simple table\">\n          <TableHead>\n            <StyledTableRow>\n              <StyledTableCell className={classes.text}>Id</StyledTableCell>\n              <StyledTableCell className={classes.text}>\n                Comment\n              </StyledTableCell>\n              <StyledTableCell className={classes.text} align=\"right\">\n                Actions\n              </StyledTableCell>\n            </StyledTableRow>\n          </TableHead>\n          <TableBody>\n            {my_data?.map((row) => (\n              <StyledTableRow key={v4()}>\n                <Link\n                  className={classes.link}\n                  to={\n                    isUndefined(row.id)\n                      ? baseRoute\n                      : `${baseRoute}user/${row.id}`\n                  }\n                >\n                  <StyledTableCell\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.text}\n                  >\n                    {isUndefined(row.id) && <CircularProgress size={15} />}\n                    {row.id}\n                  </StyledTableCell>\n                </Link>\n                <Link\n                  className={classes.link}\n                  to={\n                    isUndefined(row.id)\n                      ? baseRoute\n                      : `${baseRoute}user/${row.id}`\n                  }\n                >\n                  <StyledTableCell className={classes.text}>\n                    {row.comment}\n                  </StyledTableCell>\n                </Link>\n                <StyledTableCell align=\"right\">\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    className={classes.text}\n                    startIcon={<DeleteIcon />}\n                    onClick={async () => {\n                      if (IS_LOCAL_JSON) {\n                        await deleteRequest({\n                          values: row.id,\n                          storeValue: my_data,\n                          urlKey: API,\n                        })\n                      } else {\n                        alert(`DELETE ID: ${row.id}`)\n                      }\n                    }}\n                  >\n                    {/* <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    className={classes.text}\n                    startIcon={<DeleteIcon />}\n                    onClick={async () => {\n                      const deleteUrl = '/comments/' + row.id\n                      const url = '/comments'\n                      mutate(\n                        url,\n                        data.filter((c) => c.id !== row.id),\n                        false\n                      )\n                      await axios.delete(deleteUrl)\n                      trigger(url)\n                    }}\n                  > */}\n                    Delete\n                  </Button>\n                </StyledTableCell>\n              </StyledTableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  )\n}\n\nHome.getInitialProps = async (ctx) => {\n  const res = await axios('/comments')\n  const json = res.data\n  return { commentsFromServer: json }\n}\n\nexport default Home\n","import {\n  Box,\n  Button,\n  FormGroup,\n  TextField,\n  makeStyles,\n} from '@material-ui/core'\nimport { Field, Form, Formik } from 'formik'\nimport { loremIpsum } from 'lorem-ipsum'\nimport React from 'react'\nimport useSWR from 'swr'\nimport { API, IS_LOCAL_JSON } from '../constant'\nimport { postRequest } from '../service'\n\nconst useStyles = makeStyles({\n  text: {\n    fontFamily: 'bungee',\n  },\n})\n\nconst lorem = () =>\n  loremIpsum({\n    count: 1, // Number of \"words\", \"sentences\", or \"paragraphs\"\n    format: 'plain', // \"plain\" or \"html\"\n    paragraphLowerBound: 3, // Min. number of sentences per paragraph.\n    paragraphUpperBound: 7, // Max. number of sentences per paragarph.\n    random: Math.random, // A PRNG function\n    sentenceLowerBound: 5, // Min. number of words per sentence.\n    sentenceUpperBound: 10, // Max. number of words per sentence.\n    suffix: '\\n', // Line ending, defaults to \"\\n\" or \"\\r\\n\" (win32)\n    units: 'sentences', // paragraph(s), \"sentence(s)\", or \"word(s)\"\n  })\n\nexport function AddComment() {\n  const { data } = useSWR(API)\n  const classes = useStyles()\n\n  return (\n    <Box marginTop={2}>\n      <div>\n        <span className={classes.text}>Number Of Comments: {data?.length}</span>\n        <Formik\n          initialValues={{ comment: '' }}\n          onSubmit={async (values, formikHelpers) => {\n            values.body = lorem()\n            if (IS_LOCAL_JSON) {\n              await postRequest({ values, storeValue: data, urlKey: API })\n            } else {\n              alert(`POST: ${values.comment}`)\n            }\n            formikHelpers.resetForm()\n          }}\n        >\n          {/* <Formik\n          initialValues={{ comment: '' }}\n          onSubmit={async (values, formikHelpers) => {\n            values.body = lorem()\n            mutate(API, [...data, values], false)\n            await axios.post(API, values)\n            trigger(API)\n            formikHelpers.resetForm()\n          }}\n        > */}\n          <Form>\n            <FormGroup>\n              <Field\n                autoComplete=\"off\"\n                as={TextField}\n                name=\"comment\"\n                label=\"Comment\"\n              />\n            </FormGroup>\n\n            <Box marginTop={1}>\n              <Button\n                className={classes.text}\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Add Comment\n              </Button>\n            </Box>\n          </Form>\n        </Formik>\n      </div>\n    </Box>\n  )\n}\n\nexport default AddComment\n","import {\n  Avatar,\n  Card,\n  CardContent,\n  CircularProgress,\n  Fab,\n  makeStyles,\n  Typography,\n} from '@material-ui/core'\nimport { Link } from 'wouter'\nimport { isUndefined } from 'lodash'\nimport HomeIcon from '@material-ui/icons/Home'\nimport React from 'react'\nimport useSWR from 'swr'\nimport { API, baseRoute, IS_LOCAL_JSON } from '../constant'\n\nconst useStyles = makeStyles({\n  root: {\n    justifyContent: 'center',\n    display: 'grid',\n  },\n  card: {\n    minWidth: 400,\n    maxWidth: 600,\n  },\n  text: {\n    fontFamily: 'bungee',\n  },\n  large: {\n    width: '60px',\n    height: '60px',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n  loader: {\n    display: 'inline',\n  },\n})\n\nexport function User({ id }) {\n  const { data } = useSWR(API)\n  const classes = useStyles()\n  const res = IS_LOCAL_JSON\n    ? data?.filter((d) => `${d.id}` === id).pop()\n    : data?.comments.filter((d) => `${d.id}` === id).pop()\n\n  return (\n    <div className={classes.root}>\n      <br />\n      <Fab color=\"primary\" aria-label=\"Add\">\n        <Link to={baseRoute}>\n          {' '}\n          <HomeIcon style={{ color: 'white' }} />\n        </Link>\n      </Fab>\n      <br />\n      <br />\n      <Card className={classes.card}>\n        {isUndefined(res) ? (\n          <CardContent>\n            <CircularProgress className={classes.loader} size={100} />\n          </CardContent>\n        ) : (\n          <>\n            <CardContent>\n              <Avatar\n                className={classes.large}\n                src={`https://i.pravatar.cc/150?img=${id}`}\n              ></Avatar>\n            </CardContent>\n\n            <CardContent>\n              <Typography\n                className={classes.text}\n                color=\"textPrimary\"\n                gutterBottom\n              >\n                {`${res.id}: ${res.comment}`}\n              </Typography>\n            </CardContent>\n            <CardContent>\n              <Typography\n                className={classes.text}\n                color=\"textSecondary\"\n                gutterBottom\n              >\n                {res.body}\n              </Typography>\n            </CardContent>\n          </>\n        )}\n      </Card>\n    </div>\n  )\n}\n\nexport default User\n","import { Route, Switch } from 'wouter'\nimport { Container, CssBaseline } from '@material-ui/core'\nimport red from '@material-ui/core/colors/red'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport axios from 'axios'\nimport { SWRConfig } from 'swr'\nimport Home from './components/Home'\nimport AddComment from './components/AddComment'\nimport User from './components/User'\nimport { AXIOS_BASE_URL, baseRoute } from './constant'\nimport './App.css'\n\naxios.defaults.baseURL = AXIOS_BASE_URL\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: 'beige',\n    },\n  },\n})\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <SWRConfig value={{ fetcher: (url) => axios(url).then((r) => r.data) }}>\n        <Container maxWidth={false}>\n          <Switch>\n            <Route path={baseRoute}>\n              <AddComment />\n              <Home />\n            </Route>\n            <Route path={`${baseRoute}user/:id`}>\n              {(params) => <User id={params.id} />}\n            </Route>\n            <Route>404, Not Found!</Route>\n          </Switch>\n        </Container>\n      </SWRConfig>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}